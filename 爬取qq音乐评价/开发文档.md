

![v2_ba2556139a264d9aaf9ce4b09b59021a_img_png](C:\Users\æ ‘æ990\Desktop\v2_ba2556139a264d9aaf9ce4b09b59021a_img_png.png)

# æœ¬æ¡ˆä¾‹é¢„è®¡å®ç°åŠŸèƒ½

1. çˆ¬å–è¯„è®ºæ–‡æœ¬å†…å®¹
2. çˆ¬å–è¯„è®ºå‘è¡¨æ—¶é—´
3. æ ¹æ®æ–‡æœ¬ä¿¡æ¯ç»˜åˆ¶è¯äº‘
4. æŒ‰æœˆä»½ç»˜åˆ¶æ¯ä¸ªæœˆçš„è¯„è®ºæ•°é‡ï¼ˆæ›²çº¿å›¾ï¼‰
5. æŒ‰æ—¶é—´ç«¯ç»˜åˆ¶æ¯ä¸ªæ—¶é—´æ®µçš„è¯„è®ºæ•°é‡ï¼ˆæ›²çº¿å›¾ï¼‰

# å¼•è¨€

æœ€è¿‘å¬äº†æ¯›ä¸æ˜“çš„æ–°æ­Œ å…¥æµ· ï¼Œæ„Ÿè§‰å¾ˆå¥½å¬ï¼Œä¹Ÿå¾ˆæ„Ÿäººï¼Œé¡ºä¾¿å°±æ‹¿æ¥å†™äº†ä¸€ä¸ªDemoï¼Œçˆ¬å–ä¸€èµ·qqéŸ³ä¹ä¸Šè¿™é¦–æ­Œçš„è¯„è®ºå¹¶å¯è§†åŒ–ä»¥ä¸‹ã€‚

# å¯è§†åŒ–æ•ˆæœ

![image-20200601135535463](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200601135535463.png)



![image-20200601135337714](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200601135337714.png)





# åŠŸèƒ½å®ç°ä¸€ï¼šçˆ¬å–è¯„è®ºæ–‡æœ¬å†…å®¹

é¦–å…ˆæ˜¯åˆ†æä¸€æ³¢ç½‘é¡µã€‚å‘ç°ç‚¹å‡»è¯„è®ºåŒºçš„é¡µæ•°ï¼Œç½‘å€æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œå¯ä»¥çŸ¥é“è¯¥ç½‘é¡µæ˜¯ä¸€ä¸ªé€šè¿‡poståŠ è½½çš„ç½‘é¡µã€‚F12æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œç‚¹å‡»Networkï¼Œé€‰æ‹©xhrå‹æ•°æ®ï¼Œç„¶åç‚¹å‡»é¡µç ï¼Œå¯ä»¥å‘ç°ç¬¬ä¸€ä¸ªæ•°æ®æˆ‘ä»¬éœ€è¦çš„ã€‚

![image-20200531015545085](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200531015545085.png)



ç¡®å®šäº†éœ€è¦æ•°æ®åï¼ŒæŸ¥çœ‹ä¸€ä¸‹request urlã€‚

![](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200531022626797.png)

é€šè¿‡é˜Ÿæ¯”ä¸åŒè¯„è®ºé¡µçš„request urlåï¼Œæˆ‘å‘ç°è¿™ä¸¤ä¸ªrequest urlä¸»è¦åœ¨`pagenum`å’Œ`lasthotcommentid`ä¸¤ä¸ªå‚æ•°ä¸Šæœ‰æ‰€ä¸åŒï¼Œ`pagenum`ä»£è¡¨é¡µæ•°ï¼Œ`lasthotcommentid`å‚æ•°å…·ä½“å«ä¹‰æœªçŸ¥ï¼Œä½†ç»è¿‡è¯•éªŒï¼Œæˆ‘å‘ç°å½“è¿™ä¸ªå‚æ•°ä¸º`265408076_215895782_1590847483`æ—¶ï¼Œæ”¹å˜`pagenum`æ‰ä¼šä½¿é¡µé¢å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸º`265408076_1152921505019993399_1590855038`åˆ™æ”¹å˜pagenumåï¼Œé¡µé¢ä¸ä¼šæœ‰ä»»ä½•å˜åŒ–ã€‚

```

https://c.y.qq.com/base/fcgi-bin/fcg_global_comment_h5.fcg?g_tk_new_20200303=5381&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=GB2312&notice=0&platform=yqq.json&needNewCode=0&cid=205360772&reqtype=2&biztype=1&topid=265408076&cmd=8&needmusiccrit=0&pagenum=0&pagesize=25&lasthotcommentid=song_265408076_215895782_1590847483&domain=qq.com&ct=24&cv=10101010

https://c.y.qq.com/base/fcgi-bin/fcg_global_comment_h5.fcg?g_tk_new_20200303=5381&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=GB2312&notice=0&platform=yqq.json&needNewCode=0&cid=205360772&reqtype=2&biztype=1&topid=265408076&cmd=8&needmusiccrit=0&pagenum=2&pagesize=25&lasthotcommentid=song_265408076_1152921505019993399_1590855038&domain=qq.com&ct=24&cv=10101010
```

é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æˆ‘ä»¬çš„request urlåº”è¯¥ä¸ºå¦‚ä¸‹æ ¼å¼ï¼Œé€šè¿‡æ”¹å˜pagenumçš„å€¼ï¼Œå¯ä»¥çˆ¬å–æ¯ä¸€é¡µçš„æ•°æ®ã€‚

```
https://c.y.qq.com/base/fcgi-bin/fcg_global_comment_h5.fcg?g_tk_new_20200303=5381&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=GB2312&notice=0&platform=yqq.json&needNewCode=0&cid=205360772&reqtype=2&biztype=1&topid=265408076&cmd=8&needmusiccrit=0&pagenum=0&pagesize=25&lasthotcommentid=song_265408076_215895782_1590847483&domain=qq.com&ct=24&cv=10101010
```

ä¸‹ä¸€æ­¥å¼€å§‹åˆ†æè·å–åˆ°çš„jsonæ•°æ®ã€‚é€šè¿‡pythonå†…ç½®çš„jsonæ¨¡å—ï¼Œä½¿ç”¨json.loads()è¯»å–jsonæ•°æ®ã€‚ä»ä¸­æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼ˆè¿™é‡Œæ˜¯rootcommentcontentå’Œtimeï¼‰

```
'comment': {'commentlist': {'avatarurl': 'http://thirdwx.qlogo.cn/mmopen/vi_32/C9xImA5GDR8rdUJSLmk98FuibLgQROKW7mC8IF1CUQnqgSWxgJXI0ZQExmrR5rhyTBxmTvfyn9Bz111YqgBBw1Q/132', 'commentid': 'song_265408076_1152921505024552436_1590864073', 'commit_state': 2, 'enable_delete': 0, 'encrypt_rootcommentuin': 'oK6kowEAoK4z7KnA7e4kowvi7c**', 'encrypt_uin': 'oK6kowEAoK4z7KnA7e4kowvi7c**', 'identity_pic': '', 'identity_type': 0, 'is_hot': 1, 'is_hot_cmt': 0, 'is_medal': 0, 'is_stick': 0, 'ispraise': 0, 'middlecommentcontent': None, 'nick': 'å¤œå‡„å‡‰ï¿½ğŸƒ', 'permission': 0, 'praisenum': 0, 'root_enable_delete': 0, 'root_identity_pic': '', 'root_identity_type': 0, 'root_is_stick': 0, 'rootcommentcontent': ä½•æ—¶å¿˜å´è¥è¥ï¼Œä½•æ—¶äº†å´è¿™ç‰µæŒ‚ï¼Œæˆ‘
äº²çˆ±çš„æœ‹å‹ï¼Œæµ·æ´‹ä¼šå›ç­”æ±Ÿæ¹–ï¼Œæ±Ÿæ¹–å›ç­”æ²³æµï¼Œæ²³æµä¼šå›ç­”æµªæ½®ï¼Œæµªæ½®ä¼šå›ç­”å¤§æµ·', 'rootcommentid': 'song_265408076_1152921505024552436_1590864073', 'rootcommentnick': '@å¤œå‡„å‡‰ï¿½ğŸƒ', 'score': 0, 'taoge_topic':
', 'taoge_url': '', 'time': 1590864073, 'user_type': '', 'vipicon': ''}
```





```
pagenum=1&pagesize=25&lasthotcommentid=song_265408076_2332135386_1590893434&domain=qq.com&ct=24&cv=10101010

pagenum=2&pagesize=25&lasthotcommentid=song_265408076_1554877207_1590892078&domain=qq.com&ct=24&cv=10101010

pagenum=3&pagesize=25&lasthotcommentid=song_265408076_1115019984_1589935798_3433536383_1590882567&domain=qq.com&ct=24&cv=10101010

pagenum=4&pagesize=25&lasthotcommentid=song_265408076_2871438182_1590861982&domain=qq.com&ct=24&cv=10101010

https://c.y.qq.com/base/fcgi-bin/fcg_global_comment_h5.fcg?g_tk_new_20200303=5381&g_tk=5381&loginUin=0&hostUin=0&format=json&inCharset=utf8&outCharset=GB2312&notice=0&platform=yqq.json&needNewCode=0&cid=205360772&reqtype=2&biztype=1&topid=265408076&cmd=8&needmusiccrit=0&pagenum=4&pagesize=25
```



æ—¶é—´æˆ³è½¬æ¢æ ‡å‡†æ—¶é—´

```
import datetime
dateArray = datetime.datetime.utcfromtimestamp(1590864073)
```

![image-20200531140118310](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200531140118310.png)

![image-20200531140151650](C:\Users\æ ‘æ990\AppData\Roaming\Typora\typora-user-images\image-20200531140151650.png)